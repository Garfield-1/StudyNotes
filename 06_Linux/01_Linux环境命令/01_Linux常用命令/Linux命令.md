

# Linux命令

[TOC]

## 1.1 ls命令

* 就是 `list` 的缩写，通过 `ls` 命令不仅可以查看 `linux` 文件夹包含的文件，而且可以查看文件权限(包括目录、文件夹、文件权限)查看目录信息等等

* 常用参数搭配
  |参数|操作效果|
  |---|---|
  |`-a`|列出目录所有文件，包含以.开始的隐藏文件|
  |`-A`|列出除.及..的其它文件|
  |`-r`|反序排列|
  |`-t`|以文件修改时间排序|
  |`-S`|以文件大小排序|
  |`-h`|以易读大小显示|
  |`-l`|除了文件名之外，还将文件的权限、所有者、文件大小等信息详细列出来|
  

## 1.2 cd命令

* `cd`(`changeDirectory`) 命令语法：`cd [目录名]`

## 1.3 pwd命令

* `pwd` 命令用于查看当前工作目录路径

## 1.4 mkdir命令

* `mkdir` 命令用于创建文件夹
* 常用参数搭配
  |参数|操作效果|
  |---|---|
  |`-m`|在一个已有目录中创建一个拥有相应权限值的空目录文件|
  |`-p`|可以是一个路径名称。此时若路径中的某些目录尚不存在,加上此选项后，系统将自动建立好那些尚不在的目录，即一次可以建立多个目录|
* 例`mkdir -m 755 /homeTest`

## 1.5 rm命令

* 删除一个目录中的一个或多个文件或目录，如果没有使用 `-r` 选项，则 `rm` 不会删除目录。如果使用 `rm` 来删除文件，通常仍可以将该文件恢复原状。
* 常用参数搭配
  |参数|操作效果|
  |---|---|
  |-i|删除前逐一询问确认|
  |`-f`|直接删除，无需逐一确认|
  |`-r`|递归删除目录及其内容|
  

## 1.6 rmdir命令

* 删除空目录，非空的目录不能删除
* 常用参数搭配
  |参数|操作效果|
  |---|---|
  |`-p`|递归删除，删除目录之前是否删除父目录，如果父目录为空的话就删除|
  
## 1.7 mv命令

* 移动文件或修改文件名
* 例：将文件 test.log 重命名为 test1.txt
`mv test.log test1.txt`

## 1.8 cp 命令

* 将源文件复制至目标文件，或将多个源文件复制至目标目录
* 常用参数搭配
  |参数|操作效果|
  |---|---|
  |`-i`|如果目标文件已经存在,提示是否覆盖|
  |`-r`|复制目录及目录内所有项目|
  |`-a`|复制的文件与原文件时间一样|
  

## 1.9 cat命令

1. 一次显示整个文件:`cat filename`

2. 从键盘创建一个文件:`cat > filename`

3. 将几个文件合并为一个文件:`cat file1 file2 > file`

* 常用参数搭配
  |参数|操作效果|
  |---|---|
  |`-n`|所有输出的行数编号|
  |`-b`|和 `-n` 相似，只不过对于空白行不编号|
  

## 1.10 more命令

* 功能类似于 `cat`, `more` 会以一页一页的显示方便使用者逐页阅读

* 常用参数搭配
  |参数|操作效果|
  |---|---|
  |`+n`|从笫 `n` 行开始显示|
  |`-n`|定义屏幕大小为n行|
  |`+/pattern`|在每个档案显示前搜寻该字串（`pattern`），然后从该字串前两行之后开始显示|
  |`-c`|从顶部清屏，然后显示|
  |`-l`|忽略`Ctrl+l`（换页）字符|
  |`-p`|通过清除窗口而不是滚屏来对文件进行换页，与`-c`选项相似|
  |`-s`|把连续的多个空行显示为一行|
  |`-u`|把文件内容中的下画线去掉|
* 常用操作命令
  |参数|操作效果|
  |---|---|
  |`Enter`|向下 `n` 行，需要定义。默认为 `1` 行|
  |`Ctrl+F`|向下滚动一屏|
  |空格键|向下滚动一屏|
  |`Ctrl+B`|返回上一屏|
  |`=`|输出当前行的行号|
  |`:f`|输出文件名和当前行的行号|
  |`V`|调用vi编辑器|
  |`q`|退出more|
  
## 1.11 less命令

* `less` 与 `more` 类似，但使用 `less` 可以随意浏览文件，而 `more` 仅能向前移动，却不能向后移动，而且 `less` 在查看之前不会加载整个文件

* 常用操作命令
  |参数|操作效果|
  |---|---|
  |`-i`|忽略搜索时的大小写|
  |`-N`|显示每行的行号|
  |`-o` <文件名>| 将less 输出的内容在指定文件中保存起来|
  |`-s`|显示连续空行为一行|
  |`b`|向后翻一页|
  |`d`|向后翻半页|
  |`Q`|退出less 命令|
  |`u`|向前滚动半页|
  |`y`|向前滚动一行|
  |空格键| 滚动一行|
  |回车键| 滚动一页|
  |`[pagedown]`| 向下翻动一页|
  |`[pageup]`| 向上翻动一页|
  
## 1.12 head 命令

* `head` 用来显示档案的开头至标准输出中，默认 `head` 命令打印其相应文件的开头 `10` 行

* 常用操作命令
  |参数|操作效果|
  |---|---|
  |`-n`<行数>|显示的行数|
  

## 1.13 tail 命令

* 用于显示指定文件末尾内容，不指定文件时，作为输入信息进行处理。常用查看日志文件

* 常用操作命令
  |参数|操作效果|
  |---|---|
  |`-n`<行数>|显示的行数(从后往前)|
  
## 1.14 which 命令

* `Linux which`命令用于查找文件。
* `which`指令会在环境变量`$PATH`设置的目录里查找符合条件的文件。
* 语法`which [文件...]`
  

## 1.15 whereis 命令

* `whereis` 命令只能用于程序名的搜索,搜索文件类型由参数决定
* 常用操作命令
  |参数|操作效果|
  |---|---|
  |`-b`|定位可执行文件|
  |`-m`|定位帮助文件|
  |`-s`|定位源代码文件|
  |`-u`|搜索默认路径下除可执行文件、源代码文件、帮助文件以外的其它文件|
  

## 1.16 find命令

* 用于在文件树中查找文件，并作出相应的处理
* 命令格式：`find pathname -options [-print -exec -ok ...]`
* 命令参数
  |参数|操作效果|
  |---|---|
  |`pathname`|`find`命令所查找的目录路径。例如用.来表示当前目录，用`/`来表示系统根目录|
  |`-print`|`find`命令将匹配的文件输出到标准输出|
  |`-exec`|`find`命令对匹配的文件执行该参数所给出的`shell`命令。相应命令的形式为`'command' {  } \;`，注意`{   }`和`\;`之间的空格|
  |`-ok`|和`-exec`的作用相同，只不过以一种更为安全的模式来执行该参数所给出的`shell`命令，在执行每一个命令之前，都会给出提示，让用户来确定是否执行|
* 命令选项
  |参数|操作效果|
  |---|---|
  |`-name`|按照文件名查找文件|
  |`-perm`|按文件权限查找文件|
  |`-user`|按文件属主查找文件|
  |`-group`|按照文件所属的组来查找文件|
  |`-type`|查找某一类型的文件|
  |`b`|块设备文件|
  |`d`|目录|
  |`c`|字符设备文件|
  |`l`|符号链接文件|
  |`p`|管道文件|
  |`f`|普通文件|
  

## 1.17 chmod命令

* 用于改变 `linux` 系统文件或目录的访问权限。用它控制文件或目录的访问权限。该命令有两种用法。一种是包含字母和操作符表达式的文字设定法；   另一种是包含数字的数字设定法。
* 每一文件或目录的访问权限都有三组，每组用三位表示，分别为文件属主的读、写和执行权限；与属主同组的用户的读、写和执行权限；系统中其他用   户的读、写和执行权限。可使用 `ls -l test.txt` 查找。
* 常用参数
  |参数|操作效果|
  |---|---|
  |-c|当发生改变时，报告处理信息|
  |`-R`|处理指定目录以及其子目录下所有文件|
* 权限范围
  |参数|操作效果|
  |---|---|
  |u|目录或者文件的当前的用户|
  |`g`|目录或者文件的当前的群组|
  |`o`|除了目录或者文件的当前用户或群组之外的用户或者群组|
  |a|所有的用户及群组|
* 权限代号
  |参数|操作效果|
  |---|---|
  |`r`|读权限，用数字4表示|
  |`w`|写权限，用数字2表示|
  |`x`|执行权限，用数字1表示|
  |-|删除权限，用数字0表示|
  |`s`|特殊权限|

* 使用实例

``` cpp
  //增加文件 t.log 所有用户可执行权限
  chmod a+x t.log

  //撤销原来所有的权限，然后使拥有者具有可读权限,并输出处理信息
  chmod u=r t.log -c

  //给 file 的属主分配读、写、执行(7)的权限，给file的所在组分配读、执行(5)的权限，给其他用户分配执行(1)的权限
  chmod 751 t.log -c（或者：chmod u=rwx,g=rx,o=x t.log -c
```

## 1.18 chown命令

* `chown` 将指定文件的拥有者改为指定的用户或组
* 用户可以是用户名或者用户 `ID`；组可以是组名或者组 `ID`
* 文件是以空格分开的要改变权限的文件列表，支持通配符
* 常用参数
  |参数|操作效果|
  |---|---|
  |`-c`|显示更改的部分的信息|
  |`-R`|处理指定目录及子目录|
* 使用实例

``` cpp
  //改变拥有者和群组 并显示改变信息
  chown -c mail:mail log2012.log

  //改变文件群组
  chown -c :mail t.log
```

## 1.19 df命令

* 显示磁盘空间使用情况。获取硬盘被占用了多少空间，目前还剩下多少空间等信息，如果没有文件名被指定，则所有当前被挂载的文件系统的可用空间将被显示。默认情况下，磁盘空间将以 `1KB` 为单位进行显示
* 常用参数
  |参数|操作效果|
  |---|---|
  |`-a`|全部文件系统列表|
  |`-h`|以方便阅读的方式显示信息|
  |`-i`|显示`inode`信息|
  |`-k`|区块为`1024`字节|
  |`-l`|只显示本地磁盘|
  |`-T`|列出文件系统类型|
  
## 1.20 du 命令

* `du` 命令也是查看使用空间的，但是与 `df` 命令不同的是 `Linux du` 命令是对文件和目录磁盘使用的空间的查看
* 命令格式：`du [选项] [文件]`
* 常用参数
  |参数|操作效果|
  |---|---|
  |`-a`|显示目录中所有文件大小|
  |`-k`|以`KB`为单位显示文件大小|
  |`-m`|以`MB`为单位显示文件大小|
  |`-g`|以`GB`为单位显示文件大小|
  |`-s`|仅显示总计|
  |`-c`或`--total`|除了显示个别目录或文件的大小外，同时也显示所有目录或文件的总和|
  

## 1.21 grep 命令

* `Linux`系统中`grep`命令是一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹 配的行打印出来。`grep`全称是`Global Regular Expression Print`，表示全局正则表达式版本，它的使用权限是所有用户。
* `grep` 的工作方式是这样的，它在一个或多个文件中搜索字符串模板。如果模板包括空格，则必须被引用，模板后的所有字符串被看作文件名。搜索的结果被送到标准输出，不影响原文件内容。
* 命令格式：`grep [option] pattern file|dir`
* 常用参数
  |参数|操作效果|
  |---|---|
  |`-A n`|显示匹配字符后n行|
  |`-B n`|显示匹配字符前n行|
  |`-C n`|显示匹配字符前后n行|
  |`-c`|计算符合样式的列数|
  |`-i`|忽略大小写|
  |`-l`|只列出文件内容符合指定的样式的文件名称|
  |`-f`|从文件中读取关键词|
  |`-n`|显示匹配内容的所在文件中行数|
  |`-R`|递归查找文件夹|
* `grep` 的规则表达式
  
  |参数|操作效果|
  |---|---|
  |`^`|锚定行的开始 如：'^grep'匹配所有以grep开头的行|
  |`$`|锚定行的结束 如：'grep$'匹配所有以grep结尾的行|
  |`.`|匹配一个非换行符的字符 如：'gr.p'匹配gr后接一个任意字符，然后是p|
  |`\*`|匹配零个或多个先前字符 如：'\*grep'匹配所有一个或多个空格后紧跟grep的行|
  |`.\*`|一起用代表任意字符|
  |`[]`|匹配一个指定范围内的字符，如'[Gg]rep'匹配Grep和grep|
  |`[^]`|匹配一个不在指定范围内的字符，如：'[^A-FH-Z]rep'匹配不包含A-R和T-Z的一个字母开头，紧跟rep的行|
  |`\\(..\\)`|标记匹配字符，如'\\(love\\)'，love被标记为1|
  |\\< |锚定单词的开始，如:'\\<grep'匹配包含以grep开头的单词的行|
  |`\\>`|锚定单词的结束，如'grep\\>'匹配包含以grep结尾的单词的行|
  |`x\{m\\}`|重复字符x，m次，如：'0\\{5\\}'匹配包含5个o的行|
  |x\{m,\\}|重复字符x,至少m次，如：'o\\{5,\\}'匹配至少有5个o的行|
  |`x\{m,n\\}`|重复字符x，至少m次，不多于n次，如：'o\\{5,10\\}'匹配5--10个o的行|
  |`\w`|匹配文字和数字字符，也就是[A-Za-z0-9]，如：'G\\w\*p'匹配以G后跟零个或多个文字或数字字符，然后是p|
  |`\W`|\w的反置形式，匹配一个或多个非单词字符，如点号句号等|
  |`\b`|单词锁定符，如: '\bgrep\b'只匹配grep|
* 操作实例

``` cpp
  //1.查找指定进程
  ps -ef | grep svn

  //2.查找指定进程个数
  ps -ef | grep svn -c

  //3.从文件中读取关键词
  cat test1.txt | grep -f key.log

  //4.从文件夹中递归查找以grep开头的行，并只列出文件
  grep -lR '^grep' /tmp

  //5.查找非x开关的行内容
  grep '^[^x]' test.txt

  //6.显示包含 ed 或者 at 字符的内容行
  grep -E 'ed|at' test.txt
```

## 1.22 wc 命令

* `wc`(`word count`)功能为统计指定的文件中字节数、字数、行数，并将统计结果输出
* 命令格式：`wc [option] file..`
* 常用参数
  |参数|操作效果|
  |---|---|
  |`-c`|统计字节数|
  |-l|统计行数|
  |`-m`|统计字符数|
  |`-w`|统计词数，一个字被定义为由空白、跳格或换行字符分隔的字符串|
* 操作实例

``` cpp
  //查找文件的 行数 单词数 字节数 文件名
  wc text.txt
 
 //结果：
  7     8     70     test.txt
```

## 1.23 PS命令

* `ps`(`process status`)，用来查看当前运行的进程状态，一次性查看，如果需要动态连续结果使用 `top`
* `linux`上进程有`5`种状态

1. 运行(正在运行或在运行队列中等待)
2. 中断(休眠中, 受阻, 在等待某个条件的形成或接受到信号)
3. 不可中断(收到信号不唤醒和不可运行, 进程必须等待直到有中断发生)
4. 僵死(进程已终止, 但进程描述符存在, 直到父进程调用`wait4()`系统调用后释放)
5. 停止(进程收到`SIGSTOP`, `SIGSTP`, `SIGTIN`, `SIGTOU`信号后停止运行运行)

* `ps` 工具标识进程的5种状态码
  
  |状态码|含义|
  |---|---|
  |D|不可中断 uninterruptible sleep (usually IO)|
  |R|运行 runnable (on run queue)|
  |S|中断 sleeping|
  |T|停止 traced or stopped|
  |Z|僵死 a defunct (”zombie”) process|
* 常用参数
  |参数|操作效果|
  |---|---|
  |`-A`|显示所有进程|
  |`a`|显示所有进程|
  |`-a`|显示同一终端下所有进程|
  |`c`|显示进程真实名称|
  |`e`|显示环境变量|
  |`f`|显示进程间的关系|
  |`r`|显示当前终端运行的进程|
  |`-aux`|显示所有包含其它使用的进程|
  
## 1.24 top命令

* 显示当前系统正在执行的进程的相关信息，包括进程 `ID`、内存占用率、`CPU` 占用率等
* 常用参数
  |参数|操作效果|
  |---|---|
  |`-c`|显示完整的进程命令|
  |`-s`|保密模式|
  |-p <进程号>| 指定进程显示|
  |`-n` <次数>|循环显示次数|
  

## 1.25 Kill命令

* `Linux`中的`kill`命令用来终止指定的进程（`terminate a process`）的运行，是`Linux`下进程管理的常用命令。通常，终止一个前台进程可以使用       Ctrl+C键，但是，对于一个后台进程就须用kill命令来终止
* 命令格式：`kill 参数  进程号`
* 常用参数
  |参数|操作效果|
  |---|---|
  |`-l`|信号，若果不加信号的编号参数，则使用“-l”参数会列出全部的信号名称|
  |-a|当处理当前进程时，不限制命令名和进程号的对应关系|
  |`-p`|指定`kill` 命令只打印相关进程的进程号，而不发送任何信号|
  |`-s`|指定发送信号|
  |`-u`|指定用户|

## 1.26 free命令

* 显示系统内存使用情况，包括物理内存、交互区内存(swap)和内核缓冲区内存
* 常用参数
  |参数|操作效果|
  |---|---|
  |`-b`|以`Byte`显示内存使用情况|
  |`-k`|以`kb`为单位显示内存使用情况|
  |`-m`|以`mb`为单位显示内存使用情况|
  |`-g`|以`gb`为单位显示内存使用情况|
  |`-s`<间隔秒数>|持续显示内存|
  |-t|显示内存使用总合|
  
---

## 2. Linux yum命令

* `Yum`(全称为 `Yellow dogUpdater`, `Modified`)是一个在`Fedora`和`RedHat`以及`CentOS`中的`Shell`前端软件包管理器。基于RPM包管理，能够从指定的      服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包，无须繁琐地一次次下载、安装。yum提供了查找、安装、删除某一个、一组甚至全部软件包的命令，而且命令简洁好记。
* `yum`的配置文件位于`/etc/yum.reops.d`目录下

## 2.1 yum语法结构

* `yum [options] [command] [package ...]`
* `options`：可选，选项包括-h（帮助），`-y`（当安装过程提示选择全部为 `yes`），`-q`（不显示安装的过程）等等。
* `command`：要进行的操作。
* `package`：安装的包名。
## 2.2 yum常用命令

**常用指令**

|命令|操作效果|
|---|---|
|`yum check-update`|列出所有可更新的软件清单命令|
|`yum update`|更新所有软件命令|
|`yum install <package_name>`|仅安装指定的软件命令|
|`yum update <package_name>`|仅更新指定的软件命令|
|`yum list`| 列出所有可安裝的软件清单命令|
|`yum remove <package_name>`|删除软件包命令|
|`yum search <keyword\>`|查找软件包命令|
|`yum clean packages`|清除缓存目录下的软件包|
|`yum clean headers`|清除缓存目录下的 headers|
|`yum clean oldheaders`|清除缓存目录下旧的 headers|
|`yum clean, yum clean all`|清除缓存目录下的软件包及旧的 headers|

## 3. Linux APT常用命令

`APT`（`Advanced Package Tool`）是`linux`的`Debian`发行版已经一些以Debian为基础的发行版（`Ubuntu`等）下，做软件包管理的一个工具，其中包     括`deselect`和`apt-get`两个工具，他们都可以提供下载、安装、更新、删除软件包的功能。

## 3.1 apt语法命令结构

* `apt [options] [command] [package ...]`
* `options`：可选，选项包括 `-h`（帮助），`-y`（当安装过程提示选择全部为`yes`），`-q`（不显示安装的过程）等等
* `command`：要进行的操作
* `package`：安装的包名
## 3.2 apt常用命令

* 常用指令
  |命令|操作效果|
  |---|---|
  |`sudo apt update`|列出所有可更新的软件清单命令|
  |`sudo apt upgrade`|升级软件包|
  |`apt list --upgradeable`|列出可更新的软件包及版本信息|
  |`sudo apt full-upgrade`|升级软件包，升级前先删除需要更新软件包|
  |`sudo apt install <package_name>`|安装指定的软件命令|
  |`sudo apt show <package_name>`|显示软件包具体信息,例如：版本号，安装大小，依赖关系等等|
  |`sudo apt autoremove`|清理不再使用的依赖和库文件|
  |`sudo apt purge <package_name>`|移除软件包及配置文件|
  |`sudo apt search <keyword\>`|查找软件包命令|
  |`apt list --installed`|列出所有已安装的包|
  |`apt list --all-versions`|列出所有已安装的包的版本信息|

  ---

# 参考文献

> 菜鸟教程
