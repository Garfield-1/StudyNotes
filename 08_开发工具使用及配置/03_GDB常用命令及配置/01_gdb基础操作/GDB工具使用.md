# GDB使用方式

[TOC]

## 1.  GDB是什么？

**`GNU调试器`（英语：`GNU Debugger`，缩写：`GDB`）**，是`GNU`软件系统中的标准调试器，此外`GDB`也是个具有移携性的调试器，经过移携需求的调修与重新编译，如今许多的类`UNIX`操作系统上都可以使用`GDB`，而现有`GDB`所能支持调试的编程语言有`C`、`C++`、`Pascal`以及`FORTRAN`

`GDB`具备各种调试功效，能针对计算机程序的执行进行追踪与警告，使用`GDB`的调试人员可以监督及修改程序的内部变量值，甚至监督与修改独立于主程序运作外，以独立个体类型调用（调用使用）的函数

## 2. GDB调试源代码流程

1. 进入`GDB`　　`#gdb test`
    只需输入`GDB`和要调试的可执行文件即可，在`GDB`的启动画面中指出了`GDB`的版本号、遵循的许可等信息，接下来就进入了由`gdb`开头的命令行界面了；
2. 查看文件　　`(gdb) l`
    在`GDB`中键入"`l`"(`list`)就可以查看程序的源码了，`GDB`列出的源代码中明确地给出了对应的行号，方便代码的定位；
3. 设置断点　　`(gdb) b 6`
    只需在`b`后加入对应的行号即可，在`GDB`中利用行号设置断点是指代码运行到对应行之前暂停；设置断点可以使程序执行到某个位置时暂停，程序员在该位置处可以方便地查看变量的值、堆栈情况等；
    一般情况下，源代码中大家行号与用户书写程序的行号是一致的，但有时由于用户的某些编译选项会导致行号不一致的情况，因此，一定要查看在`GDB`中的行号；
4. 查看断点处情况　　`(gdb) info b`
    可以键入`info b`来查看断点处情况，可以设置多个断点；
5. 运行代码　　`(gdb) r`
    `GDB`默认从首行开始运行代码，键入`r`即可；程序运行到断点处停止。
6. 看变量值　　`(gdb) p n`
    在程序暂停之后，程序员可以查看断点处的相关变量值，在`GDB`中只需键入`p` 变量名即可；
    `GDB`在显示变量值时都会在对应值之前加上`$N`标记，它是当前变量值的引用标记，以后若想再次引用此变量，就可以直接写作`$N`，而无需写冗长的变量名；
7. 观察变量　　`(gdb) watch n`
    在某一循环处，往往希望能够观察一个变量的变化情况，这时就可以键入命令"`watch`"来观察变量的变化情况，`GDB`在`n`设置了观察点；
8. 单步运行　　`(gdb) n`
    单步运行是指一次只运行一条语句，这样可以方便查看程序运行的结果，在此处只需键入`"n"(next)`即可；随着程序的单步运行，当变量`n`的值发生变化时，`GDB`就会自动显示出`n`的变化情况。
9. 程序继续运行　　`(gdb) c`
    命令`c`可以使程序继续往下运行，直到再次遇到断点或程序结束；
10. 退出`GDB`　　`(gdb) q`
    只需使用指令`q`即可。
